{"version":3,"file":"DesktopHeader.js","names":["React","PropTypes","useIntl","getConfig","DesktopUserMenuToggleSlot","Menu","MenuTrigger","MenuContent","LogoSlot","DesktopLoggedOutItemsSlot","desktopLoggedOutItemsDataShape","DesktopMainMenuSlot","desktopHeaderMainOrSecondaryMenuDataShape","DesktopSecondaryMenuSlot","DesktopUserMenuSlot","desktopUserMenuDataShape","messages","DesktopHeader","_ref","mainMenu","secondaryMenu","userMenu","loggedOutItems","logo","logoAltText","logoDestination","avatar","username","loggedIn","intl","renderMainMenu","createElement","menu","renderSecondaryMenu","renderUserMenu","transitionClassName","transitionTimeout","tag","formatMessage","className","label","renderLoggedOutItems","items","logoProps","src","alt","href","logoClasses","AUTHN_MINIMAL_HEADER","concat","Fragment","desktopHeaderDataShape","string","bool","propTypes","defaultProps"],"sources":["../../src/desktop-header/DesktopHeader.jsx"],"sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useIntl } from '@edx/frontend-platform/i18n';\r\nimport { getConfig } from '@edx/frontend-platform';\r\n\r\n// Local Components\r\nimport DesktopUserMenuToggleSlot\r\n  from '../plugin-slots/DesktopUserMenuToggleSlot';\r\nimport { Menu, MenuTrigger, MenuContent } from '../Menu';\r\nimport LogoSlot from '../plugin-slots/LogoSlot';\r\nimport DesktopLoggedOutItemsSlot from '../plugin-slots/DesktopLoggedOutItemsSlot';\r\nimport { desktopLoggedOutItemsDataShape } from './DesktopLoggedOutItems';\r\nimport DesktopMainMenuSlot from '../plugin-slots/DesktopMainMenuSlot';\r\nimport { desktopHeaderMainOrSecondaryMenuDataShape } from './DesktopHeaderMainOrSecondaryMenu';\r\nimport DesktopSecondaryMenuSlot from '../plugin-slots/DesktopSecondaryMenuSlot';\r\nimport DesktopUserMenuSlot from '../plugin-slots/DesktopUserMenuSlot';\r\nimport { desktopUserMenuDataShape } from './DesktopHeaderUserMenu';\r\n\r\n// i18n\r\nimport messages from '../Header.messages';\r\n\r\n// Assets\r\n\r\nconst DesktopHeader = ({\r\n  mainMenu,\r\n  secondaryMenu,\r\n  userMenu,\r\n  loggedOutItems,\r\n  logo,\r\n  logoAltText,\r\n  logoDestination,\r\n  avatar,\r\n  username,\r\n  loggedIn,\r\n}) => {\r\n  const intl = useIntl();\r\n\r\n  const renderMainMenu = () => <DesktopMainMenuSlot menu={mainMenu} />;\r\n\r\n  const renderSecondaryMenu = () => <DesktopSecondaryMenuSlot menu={secondaryMenu} />;\r\n\r\n  const renderUserMenu = () => (\r\n    <Menu transitionClassName=\"menu-dropdown\" transitionTimeout={250}>\r\n      <MenuTrigger\r\n        tag=\"button\"\r\n        aria-label={intl.formatMessage(messages['header.label.account.menu.for'], { username })}\r\n        className=\"btn btn-outline-primary d-inline-flex align-items-center pl-2 pr-3\"\r\n      >\r\n        <DesktopUserMenuToggleSlot avatar={avatar} label={username} />\r\n      </MenuTrigger>\r\n      <MenuContent className=\"mb-0 dropdown-menu show dropdown-menu-right pin-right shadow py-2\">\r\n        <DesktopUserMenuSlot menu={userMenu} />\r\n      </MenuContent>\r\n    </Menu>\r\n  );\r\n\r\n  const renderLoggedOutItems = () => <DesktopLoggedOutItemsSlot items={loggedOutItems} />;\r\n\r\n  const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\r\n  const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'mw-100' : null;\r\n\r\n  return (\r\n    <header className=\"site-header-desktop\">\r\n      <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\r\n      <div className={`container-fluid ${logoClasses}`}>\r\n        <div className=\"nav-container position-relative d-flex align-items-center\">\r\n          <LogoSlot {...logoProps} />\r\n          <nav\r\n            aria-label={intl.formatMessage(messages['header.label.main.nav'])}\r\n            className=\"nav main-nav\"\r\n          >\r\n            {renderMainMenu()}\r\n          </nav>\r\n          <nav\r\n            aria-label={intl.formatMessage(messages['header.label.secondary.nav'])}\r\n            className=\"nav secondary-menu-container align-items-center ml-auto\"\r\n          >\r\n            {loggedIn\r\n              ? (\r\n                <>\r\n                  {renderSecondaryMenu()}\r\n                  {renderUserMenu()}\r\n                </>\r\n              ) : renderLoggedOutItems()}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport const desktopHeaderDataShape = {\r\n  mainMenu: desktopHeaderMainOrSecondaryMenuDataShape,\r\n  secondaryMenu: desktopHeaderMainOrSecondaryMenuDataShape,\r\n  userMenu: desktopUserMenuDataShape,\r\n  loggedOutItems: desktopLoggedOutItemsDataShape,\r\n  logo: PropTypes.string,\r\n  logoAltText: PropTypes.string,\r\n  logoDestination: PropTypes.string,\r\n  avatar: PropTypes.string,\r\n  username: PropTypes.string,\r\n  loggedIn: PropTypes.bool,\r\n};\r\n\r\nDesktopHeader.propTypes = {\r\n  mainMenu: desktopHeaderDataShape.mainMenu,\r\n  secondaryMenu: desktopHeaderDataShape.secondaryMenu,\r\n  userMenu: desktopHeaderDataShape.userMenu,\r\n  loggedOutItems: desktopHeaderDataShape.loggedOutItems,\r\n  logo: desktopHeaderDataShape.logo,\r\n  logoAltText: desktopHeaderDataShape.logoAltText,\r\n  logoDestination: desktopHeaderDataShape.logoDestination,\r\n  avatar: desktopHeaderDataShape.avatar,\r\n  username: desktopHeaderDataShape.username,\r\n  loggedIn: desktopHeaderDataShape.loggedIn,\r\n};\r\n\r\nDesktopHeader.defaultProps = {\r\n  mainMenu: [],\r\n  secondaryMenu: [],\r\n  userMenu: [],\r\n  loggedOutItems: [],\r\n  logo: null,\r\n  logoAltText: null,\r\n  logoDestination: null,\r\n  avatar: null,\r\n  username: null,\r\n  loggedIn: false,\r\n};\r\n\r\nexport default DesktopHeader;\r\n"],"mappings":"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","ignoreList":[]}