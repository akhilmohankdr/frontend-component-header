{"version":3,"file":"index.js","names":["React","PluginSlot","getConfig","Logo","logoDataShape","LogoSlot","_ref","href","src","alt","attributes","_objectWithoutProperties","_excluded","config","schoolCode","SCHOOL_CODE","schoolLogoUrl","concat","createElement","id","idAliases","slotOptions","mergeProps","className","_extends","onError","e","target","style","display","divider","previousElementSibling","propTypes"],"sources":["../../../src/plugin-slots/LogoSlot/index.jsx"],"sourcesContent":["import React from 'react';\r\nimport { PluginSlot } from '@openedx/frontend-plugin-framework';\r\nimport { getConfig } from '@edx/frontend-platform';\r\nimport Logo, { logoDataShape } from '../../Logo';\r\n\r\nconst LogoSlot = ({\r\n  href, src, alt, ...attributes\r\n}) => {\r\n  const config = getConfig();\r\n  const schoolCode = config.SCHOOL_CODE || '';\r\n  \r\n  // Construct school logo URL\r\n  const schoolLogoUrl = schoolCode \r\n    ? `/static/schools/${schoolCode}/logo.jpg`\r\n    : null;\r\n\r\n  return (\r\n    <PluginSlot\r\n      id=\"org.openedx.frontend.layout.header_logo.v1\"\r\n      idAliases={['logo_slot']}\r\n      slotOptions={{\r\n        mergeProps: true,\r\n      }}\r\n    >\r\n      <div className=\"logos-wrapper\">\r\n        {/* Platform Logo (Kokos) */}\r\n        <Logo href={href} src={src} alt={alt} {...attributes} />\r\n        \r\n        {/* Divider */}\r\n        {schoolLogoUrl && <span className=\"logo-divider\">|</span>}\r\n        \r\n        {/* School Logo */}\r\n        {schoolLogoUrl && (\r\n          <img \r\n            src={schoolLogoUrl}\r\n            alt={`${schoolCode} Logo`}\r\n            className=\"school-logo\"\r\n            onError={(e) => {\r\n              e.target.style.display = 'none';\r\n              const divider = e.target.previousElementSibling;\r\n              if (divider?.className === 'logo-divider') {\r\n                divider.style.display = 'none';\r\n              }\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    </PluginSlot>\r\n  );\r\n};\r\n\r\nLogoSlot.propTypes = logoDataShape;\r\n\r\nexport default LogoSlot;"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,oCAAoC;AAC/D,SAASC,SAAS,QAAQ,wBAAwB;AAClD,OAAOC,IAAI,IAAIC,aAAa,QAAQ,YAAY;AAEhD,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAAC,IAAA,EAER;EAAA,IADJC,IAAI,GAAAD,IAAA,CAAJC,IAAI;IAAEC,GAAG,GAAAF,IAAA,CAAHE,GAAG;IAAEC,GAAG,GAAAH,IAAA,CAAHG,GAAG;IAAKC,UAAU,GAAAC,wBAAA,CAAAL,IAAA,EAAAM,SAAA;EAE7B,IAAMC,MAAM,GAAGX,SAAS,CAAC,CAAC;EAC1B,IAAMY,UAAU,GAAGD,MAAM,CAACE,WAAW,IAAI,EAAE;;EAE3C;EACA,IAAMC,aAAa,GAAGF,UAAU,sBAAAG,MAAA,CACTH,UAAU,iBAC7B,IAAI;EAER,oBACEd,KAAA,CAAAkB,aAAA,CAACjB,UAAU;IACTkB,EAAE,EAAC,4CAA4C;IAC/CC,SAAS,EAAE,CAAC,WAAW,CAAE;IACzBC,WAAW,EAAE;MACXC,UAAU,EAAE;IACd;EAAE,gBAEFtB,KAAA,CAAAkB,aAAA;IAAKK,SAAS,EAAC;EAAe,gBAE5BvB,KAAA,CAAAkB,aAAA,CAACf,IAAI,EAAAqB,QAAA;IAACjB,IAAI,EAAEA,IAAK;IAACC,GAAG,EAAEA,GAAI;IAACC,GAAG,EAAEA;EAAI,GAAKC,UAAU,CAAG,CAAC,EAGvDM,aAAa,iBAAIhB,KAAA,CAAAkB,aAAA;IAAMK,SAAS,EAAC;EAAc,GAAC,GAAO,CAAC,EAGxDP,aAAa,iBACZhB,KAAA,CAAAkB,aAAA;IACEV,GAAG,EAAEQ,aAAc;IACnBP,GAAG,KAAAQ,MAAA,CAAKH,UAAU,UAAQ;IAC1BS,SAAS,EAAC,aAAa;IACvBE,OAAO,EAAE,SAATA,OAAOA,CAAGC,CAAC,EAAK;MACdA,CAAC,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;MAC/B,IAAMC,OAAO,GAAGJ,CAAC,CAACC,MAAM,CAACI,sBAAsB;MAC/C,IAAI,CAAAD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEP,SAAS,MAAK,cAAc,EAAE;QACzCO,OAAO,CAACF,KAAK,CAACC,OAAO,GAAG,MAAM;MAChC;IACF;EAAE,CACH,CAEA,CACK,CAAC;AAEjB,CAAC;AAEDxB,QAAQ,CAAC2B,SAAS,GAAG5B,aAAa;AAElC,eAAeC,QAAQ","ignoreList":[]}